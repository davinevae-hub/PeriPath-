<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#0b0b14"/>
  <title>PeriPath ‚Äî Fun, Private Perimenopause Tracker</title>
  <meta name="description" content="PeriPath is a fun, private, offline-friendly symptom & cycle tracker for perimenopause/menopause. No account. Data stays on your device."/>

  <style>
    /* =========================================================
       THEME SYSTEM (4 themes)
       ========================================================= */
    :root{
      --bg0:#070712; --bg1:#0b1024;
      --glass: rgba(255,255,255,.10);
      --glass2: rgba(255,255,255,.14);
      --stroke: rgba(255,255,255,.16);

      --text:#fbfbff;
      --muted: rgba(251,251,255,.72);

      --pink:#ff2f87;
      --violet:#7c3aed;
      --aqua:#19d3ff;
      --lime:#7CFF6B;
      --amber:#ffbf2f;
      --danger:#ff5a5f;

      --shadow: 0 18px 56px rgba(0,0,0,.55);
      --shadow2: 0 10px 26px rgba(0,0,0,.35);

      --r:22px;
      --r2:16px;

      --tap: 44px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;

      /* aura controls */
      --aura1: rgba(255,47,135,.28);
      --aura2: rgba(25,211,255,.22);
      --aura3: rgba(124,58,237,.22);
      --aura4: rgba(255,191,47,.12);
      --aura5: rgba(124,255,107,.10);
    }

    /* Theme: Sunset Pop */
    [data-theme="sunset"]{
      --bg0:#070712; --bg1:#10102a;
      --pink:#ff2f87; --violet:#7c3aed; --aqua:#19d3ff; --amber:#ffbf2f; --lime:#7CFF6B;
      --aura1: rgba(255,47,135,.30);
      --aura2: rgba(255,191,47,.20);
      --aura3: rgba(124,58,237,.20);
      --aura4: rgba(25,211,255,.12);
      --aura5: rgba(124,255,107,.10);
    }

    /* Theme: Aurora Mint */
    [data-theme="aurora"]{
      --bg0:#061016; --bg1:#081b1f;
      --pink:#ff4fd2; --violet:#5b7cfa; --aqua:#35ffd2; --amber:#ffd24a; --lime:#a8ff60;
      --aura1: rgba(53,255,210,.26);
      --aura2: rgba(91,124,250,.20);
      --aura3: rgba(255,79,210,.18);
      --aura4: rgba(255,210,74,.12);
      --aura5: rgba(168,255,96,.10);
    }

    /* Theme: Velvet Night (luxe) */
    [data-theme="velvet"]{
      --bg0:#07040e; --bg1:#12061f;
      --pink:#ff3aa7; --violet:#a855f7; --aqua:#00e5ff; --amber:#ffbf2f; --lime:#7CFF6B;
      --aura1: rgba(168,85,247,.24);
      --aura2: rgba(255,58,167,.20);
      --aura3: rgba(0,229,255,.14);
      --aura4: rgba(255,191,47,.12);
      --aura5: rgba(124,255,107,.08);
    }

    /* Theme: Citrus Glow */
    [data-theme="citrus"]{
      --bg0:#080a12; --bg1:#0b1a13;
      --pink:#ff3d6e; --violet:#7c3aed; --aqua:#19d3ff; --amber:#ffd24a; --lime:#c8ff4a;
      --aura1: rgba(255,210,74,.24);
      --aura2: rgba(200,255,74,.18);
      --aura3: rgba(25,211,255,.16);
      --aura4: rgba(255,61,110,.12);
      --aura5: rgba(124,58,237,.10);
    }

    /* =========================================================
       BASE
       ========================================================= */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(980px 620px at 14% 12%, var(--aura1), transparent 62%),
        radial-gradient(860px 640px at 88% 16%, var(--aura2), transparent 60%),
        radial-gradient(980px 760px at 56% 112%, var(--aura3), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* animated aura */
    body::before{
      content:"";
      position:fixed;
      inset:-35%;
      background: conic-gradient(from 180deg,
        var(--aura1),
        var(--aura2),
        var(--aura3),
        var(--aura4),
        var(--aura5),
        var(--aura1)
      );
      filter: blur(70px);
      opacity:.52;
      animation: swirl 18s linear infinite;
      z-index:-2;
    }
    @keyframes swirl{
      from{transform: rotate(0deg) scale(1.05)}
      to{transform: rotate(360deg) scale(1.05)}
    }

    /* subtle grain */
    body::after{
      content:"";
      position:fixed; inset:0;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E");
      opacity:.18;
      pointer-events:none;
      z-index:-1;
    }

    h1,h2,h3{margin:0}
    h1{font-size:22px; letter-spacing:.2px}
    h2{font-size:16px}
    h3{font-size:14px}
    .muted{color:var(--muted)}
    .small{font-size:12px}
    .tiny{font-size:11px}
    .list{line-height:1.6}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}

    /* Top bar */
    .topbar{
      position:sticky; top:0; z-index:50;
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.10);
      background: rgba(8,10,18,.50);
      backdrop-filter: blur(16px);
    }
    .brand{
      display:flex; gap:12px; align-items:center;
      min-width: 0;
    }
    .logo{
      width:46px; height:46px; border-radius:18px;
      background: linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.04)),
                  linear-gradient(135deg, rgba(255,47,135,.95), rgba(124,58,237,.88));
      box-shadow: var(--shadow2);
      position:relative;
      display:grid; place-items:center;
      flex:0 0 auto;
      overflow:hidden;
    }
    .logo::after{
      content:"";
      position:absolute; inset:4px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.18);
    }
    .logo svg{opacity:.95}
    .brandText{min-width:0}
    .brandName{
      font-weight:950; letter-spacing:.4px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brandTag{
      font-size:12px; color:var(--muted);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    .topActions{
      display:flex; gap:10px; align-items:center;
    }
    .badge{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: rgba(251,251,255,.85);
      font-size:12px;
      backdrop-filter: blur(10px);
    }
    .badge.off{border-color: rgba(255,191,47,.35); background: rgba(255,191,47,.10)}
    .iconBtn{
      min-height: var(--tap);
      padding:10px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      cursor:pointer;
      display:flex; gap:8px; align-items:center;
      backdrop-filter: blur(10px);
      transition: transform .08s ease, filter .08s ease;
    }
    .iconBtn:hover{filter: brightness(1.06)}
    .iconBtn:active{transform: translateY(1px)}
    .icon{width:16px; height:16px; display:inline-block;}

    /* Layout */
    .layout{
      display:grid;
      grid-template-columns: 260px 1fr;
      min-height: calc(100vh - 74px);
    }
    .rail{
      padding:14px;
      border-right:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      backdrop-filter: blur(12px);
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .navBtn{
      width:100%;
      min-height: var(--tap);
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      cursor:pointer;
      display:flex;
      gap:12px;
      align-items:center;
      padding:12px 12px;
      transition: transform .08s ease, filter .08s ease;
    }
    .navBtn:hover{filter: brightness(1.08)}
    .navBtn:active{transform: translateY(1px)}
    .navBtn.active{
      border-color: rgba(25,211,255,.30);
      background:
        linear-gradient(135deg, rgba(25,211,255,.16), rgba(124,58,237,.12)),
        rgba(255,255,255,.06);
      box-shadow: 0 14px 38px rgba(0,0,0,.30);
    }
    .navEmoji{
      width:34px; height:34px;
      border-radius: 14px;
      display:grid; place-items:center;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 22px rgba(0,0,0,.18);
      flex: 0 0 auto;
    }
    .navLabel{font-weight:950}
    .navSub{font-size:12px; color:var(--muted); margin-top:2px}
    .railFoot{margin-top:auto; padding-top:8px}

    .main{
      padding: 14px 14px 94px;
      max-width: 1180px;
    }

    .view{display:none}
    .view.active{display:block}

    /* Panels / cards */
    .panel{
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      padding: 16px;
      margin: 14px 0;
      position:relative;
      overflow:hidden;
    }
    .panel::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(520px 240px at 18% 8%, rgba(255,47,135,.18), transparent 60%),
                  radial-gradient(520px 280px at 90% 14%, rgba(25,211,255,.14), transparent 60%);
      pointer-events:none;
      z-index:0;
    }
    .panel > *{position:relative; z-index:1}

    .panelHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .panelActions{
      display:flex;
      gap:12px;
      align-items:flex-end;
      flex-wrap:wrap;
    }

    .row{display:flex; align-items:center}
    .between{justify-content:space-between}
    .wrap{flex-wrap:wrap}
    .gap{gap:10px}
    .stack{display:flex; flex-direction:column; gap:8px}

    .field{display:flex; flex-direction:column; gap:6px}
    .label{font-size:12px; color:var(--muted)}
    input[type="date"], select, textarea, input[type="text"]{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--text);
      padding: 12px 12px;
      outline:none;
      backdrop-filter: blur(10px);
    }
    input[type="date"]:focus, select:focus, textarea:focus, input[type="text"]:focus{
      border-color: rgba(25,211,255,.32);
      box-shadow: 0 0 0 4px rgba(25,211,255,.10);
    }
    textarea{resize: vertical}

    .btn{
      min-height: var(--tap);
      padding: 10px 14px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      cursor:pointer;
      backdrop-filter: blur(10px);
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: transform .08s ease, filter .08s ease;
    }
    .btn:hover{filter: brightness(1.08)}
    .btn:active{transform: translateY(1px)}
    .btnPrimary{
      border-color: rgba(255,47,135,.34);
      background: linear-gradient(135deg, rgba(255,47,135,.92), rgba(124,58,237,.80));
      box-shadow: 0 14px 34px rgba(0,0,0,.30);
    }
    .btnDanger{
      border-color: rgba(255,90,95,.40);
      background: rgba(255,90,95,.14);
      color: rgba(255,235,236,.95);
    }
    .btnGlow{
      border-color: rgba(25,211,255,.34);
      background: linear-gradient(135deg, rgba(25,211,255,.22), rgba(124,58,237,.16));
      box-shadow: 0 14px 34px rgba(0,0,0,.26);
    }

    .status{min-height:18px; margin-top:10px; color:var(--muted)}

    /* Score pill */
    .scorePill{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      padding: 10px 12px;
      min-width: 172px;
      box-shadow: 0 10px 22px rgba(0,0,0,.20);
    }
    .scoreK{font-size:12px; color:var(--muted)}
    .scoreV{
      display:flex; align-items:baseline; gap:6px;
      font-size:20px; font-weight:950; letter-spacing:.2px;
    }
    .scoreMax{font-size:12px; color:var(--muted)}

    /* Fun ‚Äúhint‚Äù chip */
    .hintChip{
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 8px 10px;
      font-size:12px;
      color: var(--muted);
      display:flex; align-items:center; gap:8px;
      max-width: 680px;
    }
    .dot{
      width:10px; height:10px; border-radius: 999px;
      background: linear-gradient(135deg, rgba(25,211,255,.95), rgba(255,47,135,.95));
      box-shadow: 0 0 0 4px rgba(25,211,255,.10);
      flex:0 0 auto;
    }

    /* Toggle */
    .toggle{
      display:flex; align-items:center; gap:10px;
      user-select:none;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 10px 12px;
    }
    .toggle input{
      width: 18px; height: 18px;
      accent-color: var(--pink);
    }

    /* Symptom groups */
    .groups{display:flex; flex-direction:column; gap:14px; margin: 12px 0 8px;}
    .group{
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 12px;
    }
    .groupHead{
      display:flex; justify-content:space-between; align-items:flex-start;
      gap:10px; margin-bottom:10px;
    }
    .groupTitle{font-weight:950}
    .groupSub{color:var(--muted); font-size:12px; line-height:1.45}

    .symGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(255px, 1fr));
      gap:12px;
    }

    .symCard{
      border-radius: var(--r2);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      padding: 14px;
      box-shadow: 0 10px 24px rgba(0,0,0,.20);
      position:relative;
      overflow:hidden;
      transform: translateZ(0);
    }
    .symCard::before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(360px 160px at 20% 0%, rgba(255,47,135,.16), transparent 60%),
        radial-gradient(360px 180px at 95% 15%, rgba(25,211,255,.12), transparent 62%);
      opacity:.85;
      pointer-events:none;
    }
    .symCard > *{position:relative; z-index:1}

    .symTop{
      display:flex; justify-content:space-between; align-items:flex-start;
      gap:10px; margin-bottom:10px;
    }
    .symName{font-weight:950}
    .symBadge{
      font-size:11px;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(251,251,255,.86);
      white-space:nowrap;
    }

    /* Tap chips (replaces sliders) */
    .chipRow{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .chip{
      min-height: 38px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      color: rgba(251,251,255,.86);
      cursor:pointer;
      font-size:12px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: transform .08s ease, filter .08s ease;
      user-select:none;
      will-change: transform;
    }
    .chip:hover{filter: brightness(1.08)}
    .chip:active{transform: translateY(1px) scale(.99)}
    .chip.active{
      border-color: rgba(25,211,255,.28);
      background: linear-gradient(135deg, rgba(25,211,255,.22), rgba(124,58,237,.16));
      box-shadow: 0 12px 26px rgba(0,0,0,.22);
    }
    .chip .spark{
      width:10px; height:10px; border-radius:999px;
      background: rgba(255,255,255,.22);
      border:1px solid rgba(255,255,255,.16);
    }
    .chip.active .spark{
      background: linear-gradient(135deg, rgba(255,47,135,.95), rgba(25,211,255,.95));
      box-shadow: 0 0 0 4px rgba(255,47,135,.12);
      border-color: rgba(255,255,255,.18);
    }

    /* Tag chips (triggers) */
    .tag{
      min-height: 36px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      color: rgba(251,251,255,.86);
      cursor:pointer;
      font-size:12px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: transform .08s ease, filter .08s ease;
      user-select:none;
    }
    .tag:hover{filter: brightness(1.08)}
    .tag:active{transform: translateY(1px)}
    .tag.active{
      border-color: rgba(255,191,47,.28);
      background: linear-gradient(135deg, rgba(255,191,47,.18), rgba(255,47,135,.12));
      box-shadow: 0 12px 26px rgba(0,0,0,.22);
    }

    /* Sticky actions */
    .stickyActions{
      position: sticky;
      bottom: 0;
      margin-top: 12px;
      padding-top: 12px;
      background: linear-gradient(180deg, transparent, rgba(7,7,18,.62) 25%, rgba(7,7,18,.92));
      z-index: 3;
    }
    .stickyInner{
      display:flex;
      gap:10px;
      justify-content:flex-end;
      padding: 10px 0 4px;
    }
    @media (max-width: 980px){
      .stickyInner{justify-content:space-between}
      .stickyInner .btn{flex:1; justify-content:center}
    }

    /* Segmented control */
    .seg{
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      display:inline-flex;
      padding:4px;
      gap:4px;
    }
    .segBtn{
      min-height: 36px;
      border-radius: 999px;
      border:1px solid transparent;
      background: transparent;
      color: rgba(251,251,255,.80);
      cursor:pointer;
      padding: 8px 10px;
      font-size:12px;
      display:inline-flex;
      gap:8px;
      align-items:center;
      transition: filter .08s ease, transform .08s ease;
    }
    .segBtn:active{transform: translateY(1px)}
    .segBtn.active{
      background: linear-gradient(135deg, rgba(255,47,135,.22), rgba(25,211,255,.16));
      border-color: rgba(255,255,255,.12);
      color: rgba(251,251,255,.92);
      box-shadow: 0 10px 20px rgba(0,0,0,.18);
    }

    /* Calendar month grid */
    .calendarGrid{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap:10px;
      margin-top:12px;
    }
    .dow{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap:10px;
      font-size:12px;
      color: var(--muted);
      margin-top:10px;
    }
    .day{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding:10px;
      min-height: 72px;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition: transform .08s ease, filter .08s ease;
    }
    .day:hover{filter: brightness(1.08)}
    .day:active{transform: translateY(1px)}
    .day.dim{opacity:.45}
    .dayNum{font-weight:950; font-size:12px}
    .dayDot{
      width:10px; height:10px; border-radius:999px;
      position:absolute; right:10px; bottom:10px;
      background: linear-gradient(135deg, rgba(25,211,255,.95), rgba(255,47,135,.95));
      box-shadow: 0 0 0 4px rgba(25,211,255,.10);
      opacity:0;
    }
    .day.hasData .dayDot{opacity:1}
    .day.period{ outline: 2px solid rgba(255,47,135,.35); }

    /* Agenda list */
    .agenda{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:12px;
    }
    .agendaCard{
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 12px;
      display:flex;
      justify-content:space-between;
      gap:12px;
      cursor:pointer;
      transition: transform .08s ease, filter .08s ease;
    }
    .agendaCard:hover{filter: brightness(1.08)}
    .agendaCard:active{transform: translateY(1px)}
    .agendaLeft{display:flex; flex-direction:column; gap:6px}
    .agendaDate{font-weight:950}
    .agendaMeta{font-size:12px; color: var(--muted); line-height:1.35}
    .pill{
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      padding: 6px 10px;
      font-size:12px;
      white-space:nowrap;
      height: fit-content;
    }
    .pill.pink{border-color: rgba(255,47,135,.30); background: rgba(255,47,135,.12)}
    .pill.aqua{border-color: rgba(25,211,255,.30); background: rgba(25,211,255,.10)}
    .pill.amber{border-color: rgba(255,191,47,.30); background: rgba(255,191,47,.10)}
    .pill.lime{border-color: rgba(124,255,107,.30); background: rgba(124,255,107,.10)}

    /* Insight cards */
    .kpis{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap:12px;
      margin-top:12px;
    }
    .kpi{
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 12px;
      box-shadow: 0 10px 22px rgba(0,0,0,.18);
      overflow:hidden;
      position:relative;
    }
    .kpi::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(280px 140px at 22% 12%, rgba(25,211,255,.10), transparent 62%),
                  radial-gradient(280px 160px at 90% 20%, rgba(255,47,135,.10), transparent 62%);
      pointer-events:none;
    }
    .kpi > *{position:relative}
    .kpiK{color:var(--muted); font-size:12px}
    .kpiV{font-weight:950; font-size:18px; margin-top:6px}

    .cardGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      gap:12px;
      margin-top:12px;
    }
    .miniCard{
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 12px;
    }
    .miniK{color:var(--muted); font-size:12px}
    .miniV{font-weight:950; font-size:16px; margin-top:6px}

    /* Chart container */
    .chart{
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 12px;
      margin-top:10px;
      overflow:hidden;
    }

    /* Report */
    .reportHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
    }
    .reportTitle{font-weight:950}
    .split{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    .box{
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.14);
      padding: 12px;
    }

    /* ‚ÄúSafety‚Äù callout */
    .callout{
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(135deg, rgba(255,191,47,.10), rgba(255,47,135,.08));
      padding: 12px;
    }

    /* Modals */
    .backdrop{
      position:fixed; inset:0;
      background: rgba(0,0,0,.60);
      z-index:90;
      display:none;
    }
    .modal{
      position:fixed;
      left:50%; top:50%;
      transform: translate(-50%,-50%);
      width: min(980px, calc(100vw - 24px));
      max-height: calc(100vh - 24px);
      overflow:auto;
      z-index:100;
      border-radius: 24px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(12,12,24,.70);
      backdrop-filter: blur(18px);
      box-shadow: var(--shadow);
      display:none;
    }
    .modalHead{
      padding:14px 14px 10px;
      border-bottom:1px solid rgba(255,255,255,.10);
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:flex-start;
    }
    .modalBody{padding:14px}
    .modalTitle{font-weight:950}
    .closeX{
      border-radius:999px;
      min-height: 40px;
      padding: 8px 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      cursor:pointer;
    }

    /* Mobile bottom nav */
    @media (max-width: 980px){
      .layout{grid-template-columns: 1fr}
      .rail{
        position:fixed;
        left:0; right:0; bottom:0;
        z-index:60;
        padding:10px 10px 12px;
        border-right:none;
        border-top:1px solid rgba(255,255,255,.10);
        background: rgba(8,10,18,.58);
        backdrop-filter: blur(16px);
        display:grid;
        grid-template-columns: repeat(6, 1fr);
        gap:8px;
      }
      .navBtn{
        flex-direction:column;
        justify-content:center;
        gap:6px;
        padding:10px 8px;
        border-radius: 18px;
      }
      .navEmoji{width:32px; height:32px; border-radius: 14px}
      .navLabel{font-size:12px}
      .navSub{display:none}
      .railFoot{display:none}
      .main{padding-bottom: 146px}
      .split{grid-template-columns: 1fr}
    }

    /* Print */
    @media print{
      body{background:#fff; color:#000}
      .topbar, .rail, .stickyActions, .btn, .iconBtn, .badge, .hintChip, .toggle{display:none !important}
      .panel,.group,.symCard,.kpi,.miniCard,.box,.agendaCard,.callout{box-shadow:none !important; background:#fff !important; border:1px solid #ddd !important}
      .muted{color:#333 !important}
      .layout{grid-template-columns: 1fr}
      .view{display:block !important}
      #view-home, #view-checkin, #view-calendar, #view-insights, #view-settings{display:none !important}
      #view-report{display:block !important}
    }
  </style>
</head>

<body data-theme="sunset">
  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
          <path d="M12 2c2.8 2.7 5.5 5.7 5.5 9.2A5.5 5.5 0 1 1 6.5 11.2C6.5 7.7 9.2 4.7 12 2Z" stroke="rgba(255,255,255,.92)" stroke-width="1.6"/>
          <path d="M8.4 14.2c1.2 1 2.5 1.5 3.6 1.5 1.2 0 2.5-.5 3.6-1.5" stroke="rgba(255,255,255,.72)" stroke-width="1.4" stroke-linecap="round"/>
        </svg>
      </div>
      <div class="brandText">
        <div class="brandName">PeriPath</div>
        <div class="brandTag">Fun, private tracking ‚Äî no account needed</div>
      </div>
    </div>

    <div class="topActions">
      <div id="offlineBadge" class="badge off" style="display:none;">Offline</div>
      <button id="todayBtn" class="iconBtn" type="button" title="Jump to today">
        <span class="icon" aria-hidden="true">‚ü°</span><span class="small">Today</span>
      </button>
      <button id="helpBtn" class="iconBtn" type="button" title="Add to Home Screen">
        <span class="icon" aria-hidden="true">Ôºã</span><span class="small">Add to Home</span>
      </button>
    </div>
  </header>

  <div class="layout">
    <aside class="rail" aria-label="Navigation">
      <button class="navBtn active" data-view="home" type="button">
        <span class="navEmoji">üè†</span>
        <span>
          <div class="navLabel">Home</div>
          <div class="navSub">Today, streak, quick actions</div>
        </span>
      </button>

      <button class="navBtn" data-view="checkin" type="button">
        <span class="navEmoji">‚ú®</span>
        <span>
          <div class="navLabel">Check-In</div>
          <div class="navSub">Tap chips, save fast</div>
        </span>
      </button>

      <button class="navBtn" data-view="calendar" type="button">
        <span class="navEmoji">üóìÔ∏è</span>
        <span>
          <div class="navLabel">Calendar</div>
          <div class="navSub">Month + Agenda</div>
        </span>
      </button>

      <button class="navBtn" data-view="insights" type="button">
        <span class="navEmoji">üìà</span>
        <span>
          <div class="navLabel">Insights</div>
          <div class="navSub">Trends & correlations</div>
        </span>
      </button>

      <button class="navBtn" data-view="report" type="button">
        <span class="navEmoji">üßæ</span>
        <span>
          <div class="navLabel">Report</div>
          <div class="navSub">Print / Save PDF</div>
        </span>
      </button>

      <button class="navBtn" data-view="settings" type="button">
        <span class="navEmoji">‚öôÔ∏è</span>
        <span>
          <div class="navLabel">Settings</div>
          <div class="navSub">Themes, export, groups</div>
        </span>
      </button>

      <div class="railFoot tiny muted">
        Your data stays on this device (IndexedDB). This tracker is informational and not diagnostic.
      </div>
    </aside>

    <main class="main">
      <!-- HOME / DASHBOARD -->
      <section id="view-home" class="view active" aria-label="Home dashboard">
        <div class="panel">
          <div class="panelHead">
            <div class="stack">
              <h1>Today</h1>
              <div class="muted" id="homeDateLine">‚Äî</div>
              <div class="hintChip"><span class="dot" aria-hidden="true"></span> One tap: check in, spot patterns, walk into appointments prepared.</div>
            </div>

            <div class="panelActions">
              <div class="scorePill">
                <div class="scoreK">Today‚Äôs Score</div>
                <div class="scoreV"><span id="homeTodayScore">‚Äî</span> <span class="scoreMax muted">/ <span id="homeScoreMax">‚Äî</span></span></div>
              </div>

              <div class="scorePill">
                <div class="scoreK">7-day Trend</div>
                <div class="scoreV"><span id="homeTrendArrow">‚Äî</span> <span class="scoreMax muted"><span id="homeTrendValue">‚Äî</span></span></div>
              </div>

              <div class="scorePill">
                <div class="scoreK">Streak</div>
                <div class="scoreV"><span id="homeStreak">‚Äî</span> <span class="scoreMax muted">days</span></div>
              </div>
            </div>
          </div>

          <div class="kpis">
            <div class="kpi">
              <div class="kpiK">Top symptoms (today)</div>
              <div class="kpiV" id="homeTopToday">‚Äî</div>
              <div class="muted tiny" id="homeTopTodaySub">Tap ‚ÄúQuick Check-In‚Äù to update.</div>
            </div>

            <div class="kpi">
              <div class="kpiK">Most common (last 30 days)</div>
              <div class="kpiV" id="homeTop30">‚Äî</div>
              <div class="muted tiny">Based on your logged levels.</div>
            </div>

            <div class="kpi">
              <div class="kpiK">Trigger spotlight</div>
              <div class="kpiV" id="homeTriggerSpot">‚Äî</div>
              <div class="muted tiny">Shows a possible ‚Äútag ‚Üî score‚Äù pattern when enough data exists.</div>
            </div>
          </div>

          <div class="row gap wrap" style="margin-top:12px;">
            <button id="homeQuickBtn" class="btn btnPrimary" type="button">‚ö° Quick Check-In</button>
            <button id="homeOpenCalendar" class="btn btnGlow" type="button">üóìÔ∏è View Calendar</button>
            <button id="homePrintReport" class="btn" type="button">üßæ Print Report</button>
          </div>
        </div>

        <div class="panel">
          <div class="panelHead">
            <div class="stack">
              <h2>Good-to-know (not scary)</h2>
              <div class="muted">When something feels ‚Äúoff,‚Äù it helps to know what to ask about.</div>
            </div>
          </div>

          <div class="callout">
            <h3>When to reach out to an OB-GYN</h3>
            <ul class="muted list" style="margin:10px 0 0; padding-left:18px;">
              <li>Bleeding changes can happen in perimenopause, but abnormal bleeding is still worth discussing.  [oai_citation:2‚Ä°ACOG](https://www.acog.org/womens-health/faqs/perimenopausal-bleeding-and-bleeding-after-menopause?utm_source=chatgpt.com)</li>
              <li>Tell your clinician about bleeding after menopause (after 12 months without a period).  [oai_citation:3‚Ä°ACOG](https://www.acog.org/womens-health/faqs/perimenopausal-bleeding-and-bleeding-after-menopause?utm_source=chatgpt.com)</li>
              <li>If you have very heavy bleeding or feel unwell/lightheaded, seek medical care promptly.  [oai_citation:4‚Ä°ACOG](https://www.acog.org/womens-health/faqs/abnormal-uterine-bleeding?utm_source=chatgpt.com)</li>
            </ul>
            <div class="muted tiny" style="margin-top:8px;">
              This app can help you summarize patterns (dates, symptoms, triggers) for your visit.
            </div>
          </div>
        </div>
      </section>

      <!-- CHECK-IN -->
      <section id="view-checkin" class="view" aria-label="Daily check-in">
        <div class="panel">
          <div class="panelHead">
            <div class="stack">
              <h1>Daily Check-In</h1>
              <div class="muted">Tap levels. Add triggers. Save. Done.</div>
              <div class="hintChip"><span class="dot" aria-hidden="true"></span> Tip: You can hide symptom groups you don‚Äôt care about in Settings.</div>
            </div>

            <div class="panelActions">
              <div class="field">
                <label class="label" for="logDate">Date</label>
                <input id="logDate" type="date"/>
              </div>
              <div class="scorePill">
                <div class="scoreK">Today‚Äôs Score</div>
                <div class="scoreV"><span id="scoreValue">0</span> <span class="scoreMax muted">/ <span id="scoreMax">0</span></span></div>
              </div>
            </div>
          </div>

          <div class="row between wrap gap" style="margin-top:12px;">
            <label class="toggle">
              <input id="periodToday" type="checkbox"/>
              <span>Period today</span>
            </label>

            <div class="hintChip">
              <span class="dot" aria-hidden="true"></span>
              Levels: None ¬∑ Mild ¬∑ Moderate ¬∑ Strong
            </div>
          </div>

          <div class="group" style="margin-top:12px;">
            <div class="groupHead">
              <div>
                <div class="groupTitle">Triggers (optional)</div>
                <div class="groupSub">Tag your day. Later, Insights can show what tends to pair with higher scores.</div>
              </div>
            </div>
            <div id="triggerTags" class="chipRow"></div>
          </div>

          <div id="symptomGroups" class="groups"></div>

          <div class="field" style="margin-top:12px;">
            <label class="label" for="notes">Notes (optional)</label>
            <textarea id="notes" rows="3" placeholder="Anything you want future-you (or your clinician) to know."></textarea>
          </div>

          <div id="saveStatus" class="status" role="status" aria-live="polite"></div>

          <div class="stickyActions">
            <div class="stickyInner">
              <button id="saveBtn" class="btn btnPrimary" type="button">üíæ Save</button>
              <button id="completeBtn" class="btn btnGlow" type="button" title="Marks as complete if you tapped at least one symptom">‚úÖ Complete</button>
              <button id="resetBtn" class="btn" type="button">‚Ü∫ Reset</button>
            </div>
          </div>
        </div>

        <div class="panel">
          <h2>What PeriPath tracks</h2>
          <div class="muted">
            Symptoms commonly reported in the menopause transition include hot flashes/night sweats, sleep disturbance, mood changes, vaginal dryness, and more.  [oai_citation:5‚Ä°ACOG](https://www.acog.org/womens-health/faqs/the-menopause-years?utm_source=chatgpt.com)
          </div>
          <div class="muted tiny" style="margin-top:8px;">
            This tracker is informational and does not diagnose. If something feels urgent or severe, seek care.
          </div>
        </div>
      </section>

      <!-- CALENDAR -->
      <section id="view-calendar" class="view" aria-label="Calendar">
        <div class="panel">
          <div class="panelHead">
            <div class="stack">
              <h1>Calendar</h1>
              <div class="muted">Tap any day to view or edit. Agenda is the ‚Äúno spreadsheet‚Äù view.</div>
            </div>

            <div class="panelActions">
              <div class="seg" aria-label="Calendar view toggle">
                <button id="calViewAgenda" class="segBtn active" type="button">Agenda</button>
                <button id="calViewMonth" class="segBtn" type="button">Month</button>
              </div>

              <div class="row gap">
                <button id="prevMonth" class="btn" type="button">‚Üê</button>
                <div id="monthLabel" style="font-weight:950; letter-spacing:.2px;"></div>
                <button id="nextMonth" class="btn" type="button">‚Üí</button>
              </div>

              <div class="field" style="min-width:180px;">
                <label class="label" for="shadeMode">Color by</label>
                <select id="shadeMode"></select>
              </div>
            </div>
          </div>

          <div id="agendaWrap">
            <div class="agenda" id="agendaList"></div>
          </div>

          <div id="monthWrap" style="display:none;">
            <div class="dow">
              <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
            </div>
            <div id="calendarGrid" class="calendarGrid" role="grid"></div>
          </div>
        </div>
      </section>

      <!-- INSIGHTS -->
      <section id="view-insights" class="view" aria-label="Insights">
        <div class="panel">
          <div class="panelHead">
            <div class="stack">
              <h1>Insights</h1>
              <div class="muted">Trends from your entries. Also checks ‚Äútags ‚Üî score‚Äù when there‚Äôs enough data.</div>
            </div>
          </div>

          <div class="kpis">
            <div class="kpi">
              <div class="kpiK">7-day average score</div>
              <div class="kpiV" id="avg7">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="kpiK">Prior 7-day average</div>
              <div class="kpiV" id="avgPrev7">‚Äî</div>
            </div>
            <div class="kpi">
              <div class="kpiK">Trend</div>
              <div class="kpiV" id="trend7">‚Äî</div>
            </div>
          </div>

          <div class="chart">
            <div class="muted small">Score trend (last 30 days)</div>
            <div id="trendChart" style="margin-top:8px;"></div>
          </div>
        </div>

        <div class="panel">
          <h2>Top symptoms (last 30 days)</h2>
          <div id="topSymptoms" class="cardGrid muted">No data yet.</div>
        </div>

        <div class="panel">
          <h2>Trigger correlations (experimental)</h2>
          <div class="muted small">
            This compares average scores on days with a tag vs. without that tag. It needs enough entries to be meaningful.
          </div>
          <div id="triggerInsights" class="cardGrid" style="margin-top:12px;"></div>
        </div>
      </section>

      <!-- REPORT -->
      <section id="view-report" class="view" aria-label="Report">
        <div class="panel">
          <div class="panelHead">
            <div class="stack">
              <h1>Report</h1>
              <div class="muted">Print or ‚ÄúSave as PDF‚Äù from the print dialog.</div>
            </div>
            <div class="panelActions">
              <div class="field" style="min-width:170px;">
                <label class="label" for="reportRange">Range</label>
                <select id="reportRange">
                  <option value="30">Last 30 days</option>
                  <option value="60">Last 60 days</option>
                  <option value="90">Last 90 days</option>
                </select>
              </div>
              <button id="printBtn" class="btn btnPrimary" type="button">üñ®Ô∏è Print / Save PDF</button>
            </div>
          </div>

          <article id="reportContent">
            <div class="reportHead">
              <div>
                <div class="reportTitle">PeriPath Summary</div>
                <div id="reportMeta" class="muted small">‚Äî</div>
              </div>
              <div class="muted small">Self-reported. Not diagnostic.</div>
            </div>

            <div class="kpis" style="margin-top:12px;">
              <div class="kpi"><div class="kpiK">Entries</div><div class="kpiV" id="rEntries">‚Äî</div></div>
              <div class="kpi"><div class="kpiK">Average score</div><div class="kpiV" id="rAvg">‚Äî</div></div>
              <div class="kpi"><div class="kpiK">Highest day</div><div class="kpiV" id="rMax">‚Äî</div></div>
              <div class="kpi"><div class="kpiK">Period days</div><div class="kpiV" id="rPeriodDays">‚Äî</div></div>
            </div>

            <div class="split">
              <div class="box">
                <h3>Top symptoms</h3>
                <div id="rTopSymptoms" class="cardGrid muted">‚Äî</div>
              </div>
              <div class="box">
                <h3>Cycle intervals (if tracked)</h3>
                <div id="rCycle" class="cardGrid muted">‚Äî</div>
              </div>
            </div>

            <div class="box" style="margin-top:12px;">
              <h3>Triggers summary</h3>
              <div id="rTriggers" class="cardGrid muted">‚Äî</div>
            </div>

            <div class="box" style="margin-top:12px;">
